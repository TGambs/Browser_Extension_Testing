(()=>{async function e(){try{const e=await chrome.runtime.sendMessage({action:"genKeys"});if(console.log("Response from background:",e),e.success){const n=`\n        <strong>Key Pair Generated!</strong><br><br>\n        Raw PK: ${e.rawPK}<br>\n        Raw SK: ${e.rawSK}<br>\n        Public Key Length: ${e.publicKeyLength} bytes<br>\n        Secret Key Length: ${e.secretKeyLength} bytes<br><br>\n        <small>Public Key (base64): ${e.publicKey.substring(0,50)}...</small><br>\n        <small>Secret Key (base64): ${e.secretKey.substring(0,50)}...</small>\n      `;document.getElementById("keyGenOutput").innerHTML=n}else document.getElementById("keyGenOutput").innerHTML=`<strong>Error:</strong> ${e.error}`}catch(e){console.error("Error:",e),document.getElementById("keyGenOutput").innerHTML=`<strong>Error:</strong> ${e.message}`}}console.log("\n--- popup.js loading ---\n"),document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("genKeysBtn");n?(n.addEventListener("click",e),console.log("Key generation button listener attached")):console.error("genKeysBtn not found in DOM")}),console.log("\n--- popup.js completed ---\n")})();